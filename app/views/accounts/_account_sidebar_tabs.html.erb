<%# locals: (accounts:) %>

<div 
  class="space-y-3"
  data-controller="tabs" 
  data-tabs-local-storage-key-value="account-sidebar-tabs"
  data-tabs-active-class="bg-white shadow-sm text-gray-900" 
  data-tabs-inactive-class="text-gray-500"
  data-tabs-default-tab-value="assets-tab">
  <div class="bg-gray-100 rounded-lg p-1 flex">
    <button type="button" data-id="assets-tab" class="w-1/3 px-2 py-1 rounded-md text-sm text-gray-500" data-tabs-target="btn" data-action="click->tabs#select">
      Assets
    </button>

    <button type="button" data-id="debts-tab" class="w-1/3 px-2 py-1 rounded-md text-gray-500 text-sm" data-tabs-target="btn" data-action="click->tabs#select">
      Debts
    </button>

    <button type="button" data-id="all-tab" class="w-1/3 px-2 py-1 rounded-md text-gray-500 text-sm" data-tabs-target="btn" data-action="click->tabs#select">
      All
    </button>
  </div>

  <div data-tabs-target="tab" id="assets-tab">
    <%= link_to new_account_path(step: "method_select"), 
              class: "flex items-center gap-3 btn btn--ghost text-gray-500", 
              data: { turbo_frame: "modal" } do %>
      <%= icon("plus") %>
      <span>New asset</span>
    <% end %>

    <%= accountable_groups(accounts, classification: 'asset') %>
  </div>

  <div data-tabs-target="tab" id="debts-tab" class="hidden">
    <%= link_to new_account_path(step: "method_select"), 
              class: "flex items-center gap-3 btn btn--ghost text-gray-500", 
              data: { turbo_frame: "modal" } do %>
      <%= icon("plus") %>
      <span>New debt</span>
    <% end %>

    <%= accountable_groups(accounts, classification: 'liability') %>
  </div>

  <div data-tabs-target="tab" id="all-tab" class="hidden">
    <%= link_to new_account_path(step: "method_select"), 
              class: "flex items-center gap-3 btn btn--ghost text-gray-500", 
              data: { turbo_frame: "modal" } do %>
      <%= icon("plus") %>
      <span>New account</span>
    <% end %>

    <%= accountable_groups(accounts) %>
  </div>
</div>