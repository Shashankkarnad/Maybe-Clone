<%# locals: (account:, size: "md") %>

<% size_classes = {
  "sm" => "w-6 h-6",
  "md" => "w-9 h-9",
  "lg" => "w-10 h-10",
  "full" => "w-full h-full"
} %>

<% if account.plaid_account_id? %>
  <% domain = URI.parse(account.plaid_account.plaid_item.institution_url).host.gsub(/^www\./, '') %>
  <%= image_tag "https://logo.synthfinance.com/#{domain}", class: "rounded-full #{size_classes[size]}" %>
<% elsif account.logo.attached? %>
  <%= image_tag account.logo, class: "rounded-full #{size_classes[size]}" %>
<% else %>
  <%= circle_logo(account.name, hex: account.accountable.color, size: size) %>
<% end %>
